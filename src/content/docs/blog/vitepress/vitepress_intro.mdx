---
title: "Vitepresså®Œå…¨å…¥é—¨æŒ‡å—ï¼šä»é›¶æ­å»ºç°ä»£åŒ–æ–‡æ¡£ç«™ç‚¹"
date: 2024-02-20
excerpt: Vitepress æ˜¯åŸºäº Vite å’Œ Vue 3 çš„é™æ€ç«™ç‚¹ç”Ÿæˆå™¨ï¼Œä¸“ä¸ºæ„å»ºå¿«é€Ÿã€å†…å®¹ä¼˜å…ˆçš„ç½‘ç«™è€Œè®¾è®¡ã€‚ä¸»è¦ç‰¹æ€§åŒ…æ‹¬ï¼šåŸºäº Vite çš„æé€Ÿå¼€å‘ä½“éªŒã€æ”¯æŒ Markdown å’Œ Vue ç»„ä»¶æ··å†™ã€é»˜è®¤ä¸»é¢˜åŒ…å«å®Œå–„çš„æ–‡æ¡£åŠŸèƒ½ã€é«˜åº¦å¯å®šåˆ¶çš„é…ç½®ç³»ç»Ÿã€è‡ªåŠ¨ç”Ÿæˆè·¯ç”±å’Œé¢„æ¸²æŸ“ã€‚
authors:
  - name: Nookery
    picture: https://avatars.githubusercontent.com/u/5194193?s=200
    url: https://github.com/nookery
tags:
  - Vitepress
  - æ–‡æ¡£ç«™ç‚¹
---

# Vitepress å®Œå…¨å…¥é—¨æŒ‡å—

## ä»€ä¹ˆæ˜¯ Vitepressï¼Ÿ
Vitepress æ˜¯åŸºäº Vite å’Œ Vue 3 çš„é™æ€ç«™ç‚¹ç”Ÿæˆå™¨ï¼Œä¸“ä¸ºæ„å»ºå¿«é€Ÿã€å†…å®¹ä¼˜å…ˆçš„ç½‘ç«™è€Œè®¾è®¡ã€‚ä¸»è¦ç‰¹æ€§åŒ…æ‹¬ï¼š
- âš¡ åŸºäº Vite çš„æé€Ÿå¼€å‘ä½“éªŒ
- ğŸ–‹ï¸ æ”¯æŒ Markdown å’Œ Vue ç»„ä»¶æ··å†™
- ğŸ¨ é»˜è®¤ä¸»é¢˜åŒ…å«å®Œå–„çš„æ–‡æ¡£åŠŸèƒ½
- ğŸ”§ é«˜åº¦å¯å®šåˆ¶çš„é…ç½®ç³»ç»Ÿ
- ğŸ“¦ è‡ªåŠ¨ç”Ÿæˆè·¯ç”±å’Œé¢„æ¸²æŸ“

## ç¯å¢ƒå‡†å¤‡
1. ç¡®ä¿å·²å®‰è£… Node.js 16+ ç‰ˆæœ¬
2. æ¨èä½¿ç”¨ npm 7+ æˆ– yarn 1.x åŒ…ç®¡ç†å™¨

## å¿«é€Ÿå¼€å§‹
### 1. åˆ›å»ºé¡¹ç›®
```bash
mkdir vitepress-demo && cd vitepress-demo
npm init -y
npm install -D vitepress vue
```

### 2. åˆå§‹åŒ–æ–‡æ¡£ç»“æ„
```bash
mkdir docs && echo '# Hello VitePress' > docs/index.md
```

### 3. æ·»åŠ åŸºç¡€é…ç½®
åˆ›å»º `docs/.vitepress/config.js`ï¼š
```javascript
import { defineConfig } from 'vitepress'

export default defineConfig({
  title: 'My Docs',
  description: 'VitePress æ¼”ç¤ºæ–‡æ¡£',
  themeConfig: {
    nav: [
      { text: 'æŒ‡å—', link: '/guide/' },
      { text: 'é…ç½®', link: '/config/' }
    ],
    sidebar: {
      '/guide/': [
        {
          text: 'æŒ‡å—',
          items: [
            { text: 'å¿«é€Ÿå¼€å§‹', link: '/guide/' },
            { text: 'éƒ¨ç½²æŒ‡å—', link: '/guide/deployment' }
          ]
        }
      ]
    }
  }
})
```

### 4. é…ç½®è„šæœ¬
ä¿®æ”¹ package.jsonï¼š
```json
{
  "scripts": {
    "docs:dev": "vitepress dev docs",
    "docs:build": "vitepress build docs",
    "docs:preview": "vitepress preview docs"
  }
}
```

## æ ¸å¿ƒåŠŸèƒ½è¯¦è§£
### Markdown æ‰©å±•åŠŸèƒ½
```markdown
---
// Frontmatter é…ç½®
title: è‡ªå®šä¹‰æ ‡é¢˜
---

# æ ‡å‡†æ ‡é¢˜

- è‡ªåŠ¨ç”Ÿæˆé”šç‚¹é“¾æ¥
- æ”¯æŒ GitHub é£æ ¼çš„è¡¨æ ¼

| åŠŸèƒ½     | çŠ¶æ€   |
|----------|--------|
| ä»£ç é«˜äº® | âœ… æ”¯æŒ |
| æ•°å­¦å…¬å¼ | âš¡ æ‰©å±• |

```ts
// ä»£ç å—æ”¯æŒè¡Œé«˜äº®
const message: string = 'Hello World' // [!code hl]
```

:: tip
è‡ªå®šä¹‰å®¹å™¨æç¤ºæ¡†
::
```

### ä¸»é¢˜å®šåˆ¶
åˆ›å»º `.vitepress/theme/index.js`ï¼š
```javascript
import DefaultTheme from 'vitepress/theme'

export default {
  ...DefaultTheme,
  enhanceApp({ app }) {
    // æ³¨å†Œå…¨å±€ç»„ä»¶
    app.component('MyComponent', {
      template: '<div>è‡ªå®šä¹‰ç»„ä»¶</div>'
    })
  }
}
```

## éƒ¨ç½²æŒ‡å—
### GitHub Pages éƒ¨ç½²
1. åˆ›å»º `deploy.sh`ï¼š
```bash
#!/usr/bin/env sh
set -e

npm run docs:build
cd docs/.vitepress/dist

git init
git add -A
git commit -m 'deploy'

git push -f git@github.com:<USERNAME>/<REPO>.git master:gh-pages
cd -
```

### Netlify éƒ¨ç½²
1. æ–°å»º `netlify.toml`ï¼š
```toml
[build]
  command = "npm run docs:build"
  publish = "docs/.vitepress/dist"
```

## è¿›é˜¶åŠŸèƒ½
### å›½é™…åŒ–æ”¯æŒ
```javascript
// config.js
export default defineConfig({
  locales: {
    '/': {
      lang: 'zh-CN',
      title: 'æ–‡æ¡£',
      description: 'ä¸­æ–‡æ–‡æ¡£'
    },
    '/en/': {
      lang: 'en-US',
      title: 'Docs',
      description: 'English Documentation'
    }
  }
})
```

### è‡ªå®šä¹‰å¸ƒå±€
åˆ›å»º `.vitepress/theme/Layout.vue`ï¼š
```vue
<template>
  <Layout>
    <template #aside-outline-before>
      <CustomComponent />
    </template>
  </Layout>
</template>
```

## å¸¸è§é—®é¢˜
### 1. å¦‚ä½•æ·»åŠ  Google Analyticsï¼Ÿ
```javascript
// config.js
export default defineConfig({
  head: [
    ['script', { async: '', src: 'https://www.googletagmanager.com/gtag/js?id=UA-XXXXX-Y' }],
    ['script', {}, `
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-XXXXX-Y');
    `]
  ]
})
```

### 2. å¦‚ä½•å®ç°æš—é»‘æ¨¡å¼ï¼Ÿ
```javascript
export default defineConfig({
  appearance: 'dark' // å¼ºåˆ¶æ¨¡å¼ | æˆ–è®¾ä¸º true å¯ç”¨è‡ªåŠ¨åˆ‡æ¢
})
```

## æ€»ç»“
æœ¬æŒ‡å—ä»‹ç»äº†ï¼š
âœ… é¡¹ç›®åˆå§‹åŒ–ä¸åŸºç¡€é…ç½®  
âœ… æ–‡æ¡£ç»“æ„ä¸å¯¼èˆªé…ç½®  
âœ… Markdown æ‰©å±•åŠŸèƒ½ä½¿ç”¨  
âœ… ä¸»é¢˜å®šåˆ¶ä¸ç»„ä»¶æ‰©å±•  
âœ… ä¸»æµéƒ¨ç½²æ–¹æ¡ˆå®ç° 