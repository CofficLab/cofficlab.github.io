---
import BlogDB from '@/database/BlogDB';
import BlogList from '@/components/blogs/BlogList.vue';
import DocLayout from '@/layouts/DocLayout.astro';
import { Tag } from '@/models/Tag';

interface Props {
  lang: string;
}

const { lang } = Astro.props;

const blogs = await BlogDB.allTopLevelDocsByLang(lang);
const sidebarItem = await Tag.makeRootSidebarItem(lang);
---

<DocLayout title="所有文章" description="我的博客" sidebarItem={sidebarItem}>
  <BlogList blogs={blogs} lang={lang} />
</DocLayout>
